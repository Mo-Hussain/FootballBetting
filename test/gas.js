import expectThrow from '../helpers/expectThrow';

var Betting = artifacts.require("FootballBetting");

contract('Betting', function(accounts, app) {

  it("Gas used for verify", function() {
    var app;
    var proposer = accounts[0];
    var proposerAmount = web3.toWei(1, "ether");
    var acceptorAmount = web3.toWei(1, "ether");
    var totalAmount = web3.toWei(2, "ether");
    var homeScore = 1;
    var awayScore = 0;
    var fixtureID = 165084;
    var betJSON =
    "0x20001000ffff03001ae68e7e726e0500aaf6947e726e0500400000000400000056cf7055651984a28316b36989eb5753b991037b2039066c4568dddfbc0312561e3934454ddd7e999bd9269b74eb708b9197aa0096845dcc040fa5e8e98dabf102970000474554202f70726f78792e70793f75726c3d68747470732533412f2f6170692e666f6f7462616c6c2d646174612e6f72672f76312f66697874757265732f3136353038342f2533466865616432686561642533443020485454502f312e310d0a486f73743a20746c7370726f6f662e6261737469656e2e746563680d0a436f6e6e656374696f6e3a206b6565702d616c6976650d0a0d0a73ecb3a8efce0c6d31ed604dc12e393402da0101485454502f312e3120323030204f4b0d0a446174653a205475652c203132204a756e20323031382031343a31353a313220474d540d0a5365727665723a204170616368652f322e342e313820285562756e7475290d0a436f6e6e656374696f6e3a20636c6f73650d0a582d4170706c69636174696f6e2d436f6e746578743a206170706c69636174696f6e3a70726f64756374696f6e0d0a582d52657175657374732d417661696c61626c653a2034390d0a582d52657175657374436f756e7465722d52657365743a2036300d0a4163636573732d436f6e74726f6c2d416c6c6f772d4f726967696e3a202a0d0a4163636573732d436f6e74726f6c2d416c6c6f772d43726564656e7469616c733a20747275650d0a4163636573732d436f6e74726f6c2d416c6c6f772d4d6574686f64733a204745540d0a582d41757468656e746963617465642d436c69656e743a204e696a61742042616b680d0a582d4150492d56657273696f6e3a2076310d0a582d526573706f6e73652d436f6e74726f6c3a206d696e69666965640d0a5472616e736665722d456e636f64696e673a206368756e6b65640d0a436f6e74656e742d547970653a206170706c69636174696f6e2f6a736f6e3b636861727365743d5554462d380d0a0d0a7b16c6c07aaaa9fb106c1ddba9f5d1e70207010166630d0a7b2266697874757265223a7b226964223a3136353038342c22636f6d7065746974696f6e4964223a3436372c2264617465223a22323031382d30362d31355431323a30303a30305a222c22737461747573223a2254494d4544222c226d61746368646179223a312c22686f6d655465616d4e616d65223a224567797074222c22686f6d655465616d4964223a3832352c22617761795465616d4e616d65223a2255727567756179222c22617761795465616d4964223a3735382c22726573756c74223a7b22676f616c73486f6d655465616d223a6e756c6c2c22676f616c73417761795465616d223a6e756c6c7d2c226f646473223a6e756c6c7d7d0d0a300d0a0d0a64f3b0e937f40ab1b74eaf6393158ff1"

    return Betting.deployed().then(function(instance) {
      app = instance;
      return app.verifyProof(betJSON, {from: proposer});
    }).then(function(transaction) {
      console.log(transaction);
      console.log(transaction.receipt.cumulativeGasUsed)
    });
  });

  it("Gas used for json parsing", function() {
    var app;
    var proposer = accounts[0];
    var numberElements = 100;
    var betJSON =
    "0x20001000ffff03001ae68e7e726e0500aaf6947e726e0500400000000400000056cf7055651984a28316b36989eb5753b991037b2039066c4568dddfbc0312561e3934454ddd7e999bd9269b74eb708b9197aa0096845dcc040fa5e8e98dabf102970000474554202f70726f78792e70793f75726c3d68747470732533412f2f6170692e666f6f7462616c6c2d646174612e6f72672f76312f66697874757265732f3136353038342f2533466865616432686561642533443020485454502f312e310d0a486f73743a20746c7370726f6f662e6261737469656e2e746563680d0a436f6e6e656374696f6e3a206b6565702d616c6976650d0a0d0a73ecb3a8efce0c6d31ed604dc12e393402da0101485454502f312e3120323030204f4b0d0a446174653a205475652c203132204a756e20323031382031343a31353a313220474d540d0a5365727665723a204170616368652f322e342e313820285562756e7475290d0a436f6e6e656374696f6e3a20636c6f73650d0a582d4170706c69636174696f6e2d436f6e746578743a206170706c69636174696f6e3a70726f64756374696f6e0d0a582d52657175657374732d417661696c61626c653a2034390d0a582d52657175657374436f756e7465722d52657365743a2036300d0a4163636573732d436f6e74726f6c2d416c6c6f772d4f726967696e3a202a0d0a4163636573732d436f6e74726f6c2d416c6c6f772d43726564656e7469616c733a20747275650d0a4163636573732d436f6e74726f6c2d416c6c6f772d4d6574686f64733a204745540d0a582d41757468656e746963617465642d436c69656e743a204e696a61742042616b680d0a582d4150492d56657273696f6e3a2076310d0a582d526573706f6e73652d436f6e74726f6c3a206d696e69666965640d0a5472616e736665722d456e636f64696e673a206368756e6b65640d0a436f6e74656e742d547970653a206170706c69636174696f6e2f6a736f6e3b636861727365743d5554462d380d0a0d0a7b16c6c07aaaa9fb106c1ddba9f5d1e70207010166630d0a7b2266697874757265223a7b226964223a3136353038342c22636f6d7065746974696f6e4964223a3436372c2264617465223a22323031382d30362d31355431323a30303a30305a222c22737461747573223a2254494d4544222c226d61746368646179223a312c22686f6d655465616d4e616d65223a224567797074222c22686f6d655465616d4964223a3832352c22617761795465616d4e616d65223a2255727567756179222c22617761795465616d4964223a3735382c22726573756c74223a7b22676f616c73486f6d655465616d223a6e756c6c2c22676f616c73417761795465616d223a6e756c6c7d2c226f646473223a6e756c6c7d7d0d0a300d0a0d0a64f3b0e937f40ab1b74eaf6393158ff1"

    return Betting.deployed().then(function(instance) {
      app = instance;
      return app.parse(betJSON, numberElements, {from: proposer});
    }).then(function(transaction){
      console.log(transaction);
      console.log(transaction.receipt.cumulativeGasUsed)
    });
  });

  it("Gas used for proposeBet", function() {
    var app;
    var proposer = accounts[0];
    var proposerAmount = web3.toWei(1, "ether");
    var acceptorAmount = web3.toWei(1, "ether");
    var totalAmount = web3.toWei(2, "ether");
    var homeScore = 1;
    var awayScore = 0;
    var fixtureID = 165084;
    var betJSON =
    "0x20001000ffff03001ae68e7e726e0500aaf6947e726e0500400000000400000056cf7055651984a28316b36989eb5753b991037b2039066c4568dddfbc0312561e3934454ddd7e999bd9269b74eb708b9197aa0096845dcc040fa5e8e98dabf102970000474554202f70726f78792e70793f75726c3d68747470732533412f2f6170692e666f6f7462616c6c2d646174612e6f72672f76312f66697874757265732f3136353038342f2533466865616432686561642533443020485454502f312e310d0a486f73743a20746c7370726f6f662e6261737469656e2e746563680d0a436f6e6e656374696f6e3a206b6565702d616c6976650d0a0d0a73ecb3a8efce0c6d31ed604dc12e393402da0101485454502f312e3120323030204f4b0d0a446174653a205475652c203132204a756e20323031382031343a31353a313220474d540d0a5365727665723a204170616368652f322e342e313820285562756e7475290d0a436f6e6e656374696f6e3a20636c6f73650d0a582d4170706c69636174696f6e2d436f6e746578743a206170706c69636174696f6e3a70726f64756374696f6e0d0a582d52657175657374732d417661696c61626c653a2034390d0a582d52657175657374436f756e7465722d52657365743a2036300d0a4163636573732d436f6e74726f6c2d416c6c6f772d4f726967696e3a202a0d0a4163636573732d436f6e74726f6c2d416c6c6f772d43726564656e7469616c733a20747275650d0a4163636573732d436f6e74726f6c2d416c6c6f772d4d6574686f64733a204745540d0a582d41757468656e746963617465642d436c69656e743a204e696a61742042616b680d0a582d4150492d56657273696f6e3a2076310d0a582d526573706f6e73652d436f6e74726f6c3a206d696e69666965640d0a5472616e736665722d456e636f64696e673a206368756e6b65640d0a436f6e74656e742d547970653a206170706c69636174696f6e2f6a736f6e3b636861727365743d5554462d380d0a0d0a7b16c6c07aaaa9fb106c1ddba9f5d1e70207010166630d0a7b2266697874757265223a7b226964223a3136353038342c22636f6d7065746974696f6e4964223a3436372c2264617465223a22323031382d30362d31355431323a30303a30305a222c22737461747573223a2254494d4544222c226d61746368646179223a312c22686f6d655465616d4e616d65223a224567797074222c22686f6d655465616d4964223a3832352c22617761795465616d4e616d65223a2255727567756179222c22617761795465616d4964223a3735382c22726573756c74223a7b22676f616c73486f6d655465616d223a6e756c6c2c22676f616c73417761795465616d223a6e756c6c7d2c226f646473223a6e756c6c7d7d0d0a300d0a0d0a64f3b0e937f40ab1b74eaf6393158ff1"

    return Betting.deployed().then(function(instance) {
      app = instance;
      return app.proposeBet(betJSON, acceptorAmount, homeScore, awayScore, {from: proposer, value: proposerAmount});
    }).then(function(transaction) {
      console.log(transaction);
      console.log(transaction.receipt.cumulativeGasUsed)
    });
  });
  
});
